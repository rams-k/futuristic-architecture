@startuml
|User|
start
:Send POST /create_new_endorsement request;

|System|
:Parse JSON data;
:Extract all required fields;
:Get cancellation/reinstate date for quote;
if (cancellation_date is None?) then (Yes)
  :Create new endorsement in DB;
  :Set message: Endorsement Created Successfully;
else (No)
  if (endorsement_date <= cancellation_date?) then (Yes)
    :Create new endorsement in DB;
    :Set message: Endorsement Created Successfully;
  else (No)
    :Do not create endorsement;
    :Set message: No Endorsement can be Processed past DNOC Date;
    :Set statusCode = 0;
  endif
endif
:Prepare response;
:Return response to user;
stop
@enduml