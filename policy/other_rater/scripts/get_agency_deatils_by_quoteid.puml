@startuml
actor Client
participant "get_agency_deatils_by_quoteid (API View)" as View
participant "get_agency_id_with_quote_id" as GetAgencyId
participant "get_agency_details_db" as GetAgencyDetails
participant "Response" as DRF

Client -> View: POST /get_agency_deatils_by_quoteid
View -> View: Parse request.body (json)
View -> GetAgencyId: get_agency_id_with_quote_id(quote_id)
GetAgencyId --> View: agency_id
View -> GetAgencyDetails: get_agency_details_db(agency_id)
GetAgencyDetails --> View: agency
View -> DRF: Response({"agency": agency}, status=200)
DRF --> Client: JSON response
@enduml