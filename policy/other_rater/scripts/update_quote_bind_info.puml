@startuml
actor Client
participant "views.update_quote_bind_info" as View
participant "udf_is_quote_bound_available_db" as CheckBind
participant "update_quote_bind_info_db" as UpdateBind
participant "update_quote_status_bind_info" as UpdateStatus
participant "rest_framework.Response" as Response

Client -> View: POST /update_quote_bind_info
View -> View: Parse request, extract data
View -> CheckBind: udf_is_quote_bound_available_db(quote_id)
CheckBind --> View: is_bind_available_data
alt is_bind_available is False
    View -> View: Build error message
    View -> Response: Response(res, status=200)
    Response --> Client: JSON response
else
    View -> UpdateBind: update_quote_bind_info_db(...)
    UpdateBind --> View: quote_info_id
    alt update_status is True
        View -> UpdateStatus: update_quote_status_bind_info(quote_id, 9)
        UpdateStatus --> View
    end
    View -> Response: Response(res, status=200)
    Response --> Client: JSON response
end
@enduml